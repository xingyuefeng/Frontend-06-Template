## HTML解析

- 利用FSM转态机解析HTML
- 解析标签
  - 包含开始标签、结束标签、自封闭标签
- 创建元素
  - 在状态机中根据值创建标签
- 处理属性
  - 属性分为单引号、双引号、无引号
- 构建dom树
  - 利用栈
  - 文本节点与自封闭标签处理类似


## CSS计算

- 收集`CSS`规则
  - 遇到`style`标签，`CSS`规则先保存起来
  - 调用`CSS parser`分析`CSS`规则
- 添加调用
  - 创建元素之后，立即计算`CSS`
- 选择器与元素的匹配
  - 选择器也是从当前元素向外排列
  - 复杂选择器拆成针对单个元素的选择器，用循环匹配父元素队列
  - 根据选择器的类型和元素属性，计算是否与当前元素匹配

