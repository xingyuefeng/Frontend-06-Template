## 状态机

### 有限状态机

[有限状态机](https://zh.wikipedia.org/wiki/%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA)（Finite-state machine）是一个非常有用的模型，可以模拟世界上大部分事物。

- 每个状态都是一个机器
  - 在每个机器里面，可以做计算、存储、输出
  - 所有的机器输入都是一致的
  - 状态机的每一个机器本身没有状态，用函数表示的话应是纯函数
- 每个机器知道下一个状态
  - 每个机器都有确定的下一个状态(Moore类型)
  - 每个机器根据输入决定下一个状态(Mealy类型)

> 三个特征：

- 状态总数（state）是有限的。
- 任一时刻，只处在一种状态之中。
- 某种条件下，会从一种状态转变（transition）到另一种状态。


#### Mealy类型

```js

// 每个函数是一个状态
function state(input) { // 函数参数就是输入
  // 在函数中，可以自由的编写代码。处理每个状态的逻辑
  return next // 返回值作为下一个状态
}

// 调用

while(input) {
  // 获取输入
  state = state(input) // 把状态机的返回值作为下一个状态
}

```


### 学习博客

[JavaScript与有限状态机](http://www.ruanyifeng.com/blog/2013/09/finite-state_machine_for_javascript.html)


## HTTP请求

### HTTP的协议解析

[ISO/OSI](https://blog.csdn.net/htyurencaotang/article/details/11473015)的参考模型共有7层，由低层至高层分别为：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。

物理层：在物理媒体上传输原始的数据比特流。

数据链路层：将数据分成一个个数据帧，以数据帧为单位传输。有应有答，遇错重发。

网络层：将数据分成一定长度的分组，将分组穿过通信子网，从信源选择路径后传到信宿。

传输层：提供不具体网络的高效、经济、透明的端到端数据传输服务。

会话层：进程间的对话也称为会话，会话层管理不同主机上各进程间的对话。

表示层： 为应用层进程提供格式化的表示和转换数据服务。

应用层：提供应用程序访问OSI环境的手段。